<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sigmoid Functions Explorer</title>
    <meta name="description" content="Interactive visualizer for y = a x + b and sigmoid(a x + b)" />
    <!-- Chart.js (no framework) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js" integrity="sha256-s4B2di9zY7yekStouOA0gmeY213ya7YfAA7C56MTe8c=" crossorigin="anonymous"></script>
    <style>
      :root {
        /* Light theme */
        --bg: #f7fafc;           /* light background */
        --panel: #ffffff;        /* white panels */
        --text: #0f172a;         /* slate-900 */
        --muted: #475569;        /* slate-600 */
        --accent: #2563eb;       /* blue-600 */
        --accent-2: #db2777;     /* rose-600 */
        --grid: #e5e7eb;         /* gray-200 */
        --grid-strong: #94a3b8;  /* slate-400 */
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(1600px 1000px at 10% -20%, #ffffff 0%, var(--bg) 55%);
        color: var(--text);
      }

      header {
        padding: 20px clamp(16px, 4vw, 40px) 10px;
      }
      header h1 {
        margin: 0 0 8px;
        font-size: clamp(20px, 3vw, 28px);
        letter-spacing: 0.2px;
      }
      header p { margin: 0; color: var(--muted); }

      .controls {
        display: grid;
        grid-template-columns: repeat(2, minmax(220px, 420px));
        gap: 18px clamp(16px, 3vw, 28px);
        padding: 14px clamp(16px, 4vw, 40px) 6px;
      }

      .control {
        background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.90));
        border: 1px solid #e2e8f0; /* gray-200 */
        border-radius: 12px;
        padding: 14px 16px;
        box-shadow: 0 10px 25px rgba(2, 6, 23, 0.06), inset 0 1px 0 rgba(255,255,255,0.8);
      }
      .control label {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
        font-weight: 600;
        margin-bottom: 8px;
      }
      .value {
        color: var(--accent);
        font-variant-numeric: tabular-nums;
      }

      input[type="range"] {
        width: 100%;
        appearance: none;
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(90deg, rgba(37,99,235,0.65), rgba(219,39,119,0.65));
        outline: none;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px; height: 18px;
        border-radius: 50%;
        background: white;
        border: 3px solid var(--accent);
        box-shadow: 0 2px 6px rgba(0,0,0,0.35);
        cursor: pointer;
      }
      input[type="range"]::-moz-range-thumb {
        width: 18px; height: 18px; border-radius: 50%;
        background: white; border: 3px solid var(--accent);
        box-shadow: 0 2px 6px rgba(0,0,0,0.35);
        cursor: pointer;
      }

      .plots {
        display: grid;
        grid-template-columns: repeat(2, minmax(260px, 1fr));
        gap: clamp(16px, 3vw, 24px);
        padding: 6px clamp(16px, 4vw, 40px) 28px;
      }
      .panel {
        background: var(--panel);
        border: 1px solid #e2e8f0; /* gray-200 */
        border-radius: 14px;
        padding: 12px 12px 8px;
        box-shadow: 0 14px 30px rgba(2, 6, 23, 0.08), inset 0 1px 0 rgba(0,0,0,0.02);
        min-height: 380px;
      }
      .panel h3 { margin: 4px 4px 10px; font-size: 16px; color: var(--muted); font-weight: 600; }
      .canvas-wrap { position: relative; width: 100%; height: 320px; }

  footer { text-align: center; color: var(--muted); padding: 8px 0 22px; font-size: 12px; }
  code { color: #0f172a; background: #f1f5f9; padding: 2px 6px; border-radius: 6px; }

      @media (max-width: 900px) {
        .plots { grid-template-columns: 1fr; }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Sigmoid Explorer</h1>
      <p>Explore how parameters a and b shape the line y = a x + b and the logistic sigmoid σ(a x + b) = 1 / (1 + e<sup>−(a x + b)</sup>).</p>
    </header>

    <section class="controls" aria-label="Controls">
      <div class="control">
        <label for="aRange">Slope a <span class="value" id="aValue">1.0</span></label>
        <input id="aRange" type="range" min="-5" max="5" step="0.1" value="1" />
      </div>
      <div class="control">
        <label for="bRange">Intercept b <span class="value" id="bValue">0.0</span></label>
        <input id="bRange" type="range" min="-10" max="10" step="0.1" value="0" />
      </div>
    </section>

    <section class="plots" aria-label="Plots">
      <div class="panel">
        <h3>Left: Linear function y = a x + b</h3>
        <div class="canvas-wrap"><canvas id="linearChart"></canvas></div>
      </div>
      <div class="panel">
        <h3>Right: Sigmoid σ(a x + b)</h3>
        <div class="canvas-wrap"><canvas id="sigmoidChart"></canvas></div>
      </div>
    </section>

    <footer>
      Tip: Drag the sliders or use arrow keys for fine adjustments. Range: a ∈ [−5, 5], b ∈ [−10, 10].
    </footer>

    <script>
      // Utility: generate evenly spaced numbers between min and max (inclusive)
      function linspace(min, max, n) {
        const out = new Array(n);
        const step = (max - min) / (n - 1);
        for (let i = 0; i < n; i++) out[i] = min + i * step;
        return out;
      }

      // Logistic sigmoid
      function sigmoid(z) {
        // Guard against overflow for large |z|
        if (z >= 0) {
          const ez = Math.exp(-z);
          return 1 / (1 + ez);
        } else {
          const ez = Math.exp(z);
          return ez / (1 + ez);
        }
      }

      const X_MIN = -10, X_MAX = 10, N = 401; // 0.05 step
      const xs = linspace(X_MIN, X_MAX, N);

      const aRange = document.getElementById('aRange');
      const bRange = document.getElementById('bRange');
      const aValue = document.getElementById('aValue');
      const bValue = document.getElementById('bValue');

      // Chart.js global defaults (dark theme tweaks)
      Chart.defaults.color = getComputedStyle(document.documentElement).getPropertyValue('--text').trim() || '#e5e7eb';
      Chart.defaults.font.size = 12;

      function gridColor(ctx) {
        const strong = getComputedStyle(document.documentElement).getPropertyValue('--grid-strong').trim() || '#64748b';
        const normal = getComputedStyle(document.documentElement).getPropertyValue('--grid').trim() || '#334155';
        if (ctx.tick && (ctx.tick.value === 0 || ctx.tick.value === 0.5)) return strong;
        return normal;
      }

      const lineColor = getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#60a5fa';
      const sigColor = getComputedStyle(document.documentElement).getPropertyValue('--accent-2').trim() || '#f472b6';

      // Build initial datasets
      function makeLinearData(a, b) {
        return xs.map(x => ({ x, y: a * x + b }));
      }
      function makeSigmoidData(a, b) {
        return xs.map(x => ({ x, y: sigmoid(a * x + b) }));
      }

      // Linear chart
      const linearChart = new Chart(document.getElementById('linearChart'), {
        type: 'line',
        data: {
          datasets: [
            {
              label: 'y = a x + b',
              data: makeLinearData(Number(aRange.value), Number(bRange.value)),
              parsing: false,
              pointRadius: 0,
              borderColor: lineColor,
              borderWidth: 2,
              tension: 0,
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          animation: false,
          scales: {
            x: {
              type: 'linear',
              min: X_MIN,
              max: X_MAX,
              title: { display: true, text: 'x' },
              grid: { color: gridColor },
              ticks: { stepSize: 2 }
            },
            y: {
              min: -60,
              max: 60,
              title: { display: true, text: 'y' },
              grid: { color: gridColor },
              ticks: { stepSize: 20 }
            }
          },
          plugins: {
            legend: { display: true },
            tooltip: { mode: 'nearest', intersect: false }
          }
        }
      });

      // Sigmoid chart
      const sigmoidChart = new Chart(document.getElementById('sigmoidChart'), {
        type: 'line',
        data: {
          datasets: [
            {
              label: 'σ(a x + b)',
              data: makeSigmoidData(Number(aRange.value), Number(bRange.value)),
              parsing: false,
              pointRadius: 0,
              borderColor: sigColor,
              borderWidth: 2,
              tension: 0,
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          animation: false,
          scales: {
            x: {
              type: 'linear',
              min: X_MIN,
              max: X_MAX,
              title: { display: true, text: 'x' },
              grid: { color: gridColor },
              ticks: { stepSize: 2 }
            },
            y: {
              min: 0,
              max: 1,
              title: { display: true, text: 'σ' },
              grid: { color: gridColor },
              ticks: { callback: (v) => v.toFixed(1) }
            }
          },
          plugins: {
            legend: { display: true },
            tooltip: { mode: 'nearest', intersect: false }
          }
        }
      });

      function update() {
        const a = Number(aRange.value);
        const b = Number(bRange.value);
        aValue.textContent = a.toFixed(1);
        bValue.textContent = b.toFixed(1);

        // Update datasets only (no reconfig) for performance
        linearChart.data.datasets[0].data = makeLinearData(a, b);
        sigmoidChart.data.datasets[0].data = makeSigmoidData(a, b);

        linearChart.update('none');
        sigmoidChart.update('none');
      }

      aRange.addEventListener('input', update);
      bRange.addEventListener('input', update);

      // Initial sync
      update();
    </script>
  </body>
</html>
